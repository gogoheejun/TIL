# 41강-텔넷(telnet) 서비스이용하기

지금까지는 virtualbox로 직접 유닉스에 접속을 했음. 

이젠 원격으로 접속을 해보자. 실제 서버가 그렇게 쓰이니까...

서버는 보통 Telnet/SSH/FTP 등이 있음

텔넷 설치해보자

```sql
dpkg -s telnetd  //먼저깔렸는지 확인. telnetd의 d는 프로그램을 말함.
```

없으면 

```sql
apt search telnetd  //apt에 있는지확인

sudo apt install telnetd  //설치
```

설치가 됐다는건 리눅스에 서버가 설치된것임. 텔넷클라이언트는 윈도우즈에 기본적으로 있음.다만추가설치는 해야함. 아래처럼 클릭으로 설치
![Untitled](https://user-images.githubusercontent.com/78577071/127763717-df16e911-90b5-45f2-aeab-c2c9a6272390.png)

이제 클라이언트에서 서버 접속해야 하니까

서버의 ip주소 알아야함.

```sql
ifconfig 
```

라고 치면 막 inet 10.0.2.15이케 뜨는데 이걸로 연결 못함.왜냐면 **사설ip**이기 때문에

아래 그림보면 외부 인터넷에서 오는 211.이건 전 세계에서 식별할 수 있는 ip주소이지만, 공유기를 거쳐오는 192.저거는 공유기를 거친 애들끼리만 식별가능해. 전세계에선 못해

![Untitled 1](https://user-images.githubusercontent.com/78577071/127763723-e35e55d2-88df-404e-93d8-a67233f45904.png)

밖에서 저 192.저기로 접속하고 싶다면 공인ip까지는 접속하니까 공유기가 **포트포워딩**을 통해서 오는것임

마찬가지로 리눅스에 접속할라면 virtual박스가 있는 컴터로 가서 포트포워딩을 통해야 함.

![Untitled 2](https://user-images.githubusercontent.com/78577071/127763727-322bf876-f410-4d72-b7bd-b948f6e19ebb.png)

오케이 그럼 설정해보자

virtualbox 설정-네트워크-고급-포트포워딩 가서 다음처럼 처리.

외부에서 들어오는 TCP연결이 나에게(버츄어박스→호스ip안써도됨) 23번포트를 요청한다면 내 게스트컴터 10.여기로 23번에게 포트포워딩해준다

![Untitled 3](https://user-images.githubusercontent.com/78577071/127763733-982114fe-d6e0-4b43-99b4-5f8da1817aaa.png)

현재 클라이언트(윈도우즈) ip주소: ipconfig치면 IPc4주소나옴 그거임.

```sql
telnet ip주소   이케하면 입력된다
```

짠! 리눅스에 입력됨 개신기. 이제 똑같이 하면 된다. 

그러나 이제 텔넷은 보안때매 안씀ㅋ

# 42강-텔넷서비스의 취약점

- IP scoofing

ip주소 위조하는거...송신자주소 바꾸는거야 마치 편지쓸대 보내는주소 바꾸면 아무도 모르는 것 처럼..

- DNS poisoning

cmd에 ipconfig -all 하면 DNS서버라는 게 나옴. 

네임서버: 내가 네임서버에다가 www.naver.com의 주소를 알려줘! 하면 .com에 해당하는 애들을 검색해서 ip를 나한테 알려줌. 이때 네임서버는 캐시에 그 주소를 저장함 나중에 또 물어볼때 바로 캐시에서 찾아서 주소 응답해주려고... 근데 따른 애가 네임서버한테 거짓정보를 줄 수 있어. www.naver.com의 ip주소를 다른 주소로 넣으면 네임서버는 그 정보를 캐시에 넣고 그 오염된 주소를 응답하게 됨 앞으로.

→해결방법은 SSH 로 함.

- SSH

키를 둘이 나눠갖고 나중에 데이터를 주고받을때마다 서로 둘이 맞는지 확인하는것임.(마치 무협지의 칼 두동강내서 맞추고 그런느낌ㅋ). 키를 나눠갖는 것 뿐 아니라 암호화도 해줌. 

이러면 중간에 다른 사람이 끼여들수 없지.

# 43강-SSH서버설치, putty 다운로드 및 접속

- SSH 설치

서버는 기본적으로 서비스에 등록되어있음

```sql
service --status-all  하면 서비스에 등록된 프로그램목록 쭉 나옴
```

만약 위 목록에 ssh 없다면 apt가서 설치

```sql
sudo apt install openssh-server
설치 다되면
service ssh service  로 현재 동작중인지 확인
```

- 포워딩

다 됐으면 포트포워딩- 텔넷에 했던거랑 똑같이 해주면 됨 . 포트번호는 22번으로 함.

- 푸티 설치

www.putty.org가서 다운로드하고 , 포트번호 22번해주고 ip주소에 내 ip주소 입력해주고 save누르고 저 ip주소 더블클릭

리눅스 접속됨!

이제 내 컴터가 공인ip쓰고 있다면 좋겠지만, 사설ip더라도 포워딩/라우팅이 되서 접속만 가능하면 이 툴로 전세계어디서든 접속가능하다

# 44강-FTP서버와 SSH FTP서버설치, 파일전송

지금까진 텔넷,ssh를 이용해 원격으로 리눅스서버에 접속했음. 글구 키워드 입력하면 서버로 전달됐어. 서버에다가 mkdir, touch 등을 통해 디렉토리와 파일 만들수있었어. 원격으로 키워드 입력하는 거니까 가능했지. 근데 이런방식으로는 원격에 있는 파일을 가져올 수가 없음.

그래서 쓰는게 FTP임.

- ftp 서비스 설치(vsftp: very secure ftp daemon)

```sql
sudo apt install vsftpd  //설치

service vsftpd status  //동작중인지
```

- ftp 포워딩

얜 21번으로 함

- ftp연결

cmd에서 입력

```sql
ftp 내ip  //만약 ftp 벌써 되어있다면 open 내주소
```

이제 연결되면 그 위치는 내 홈디렉토리임. ls치면 내가 만든파일 나옴. 다음은 명령어들

![Untitled 4](https://user-images.githubusercontent.com/78577071/127763737-b60422dd-db21-4c2f-8778-9d77dcdb0d12.png)

- 원격에 있는 파일을 클라이언트로 가져와보기!

```sql
get test.txt  // 내 서버 홈디렉토리에 있는 test.txt 가져오기
```

```sql
!dir   //!치면 클라이언트에 대한 명령어임. 내가 지금 cmd쓰고있으니까 가능. 내 jun디렉토리에있는거 다 보여줌
```

근데 일일이 get으로 명령어치고 !느낌표쳐서 클라이언트에서 작업하기 힘들어서 보통 FTP클라이언트 프로그램들이 있음. 파일질라, ws_ftp 같은 고전적인 클라이언트 프로그램 애들이 있어

근데!ㅋㅋ요새 ftp 안쓰고 걍 다 SSH로 파일전송도 가능. 즉 22번포트 하나로 다 가능

- SSH로 파일전송하기

일단, 알드라이브 다운로드. 이게 편하다네. 다음처럼 설정함. SFTP,즉 ssh로 파일보내는거임

![Untitled 5](https://user-images.githubusercontent.com/78577071/127763741-6cfef264-78d7-4bb0-a861-f70bfef81a83.png)

아 원래 돼야 되는데 안되네;;;;;;

# 45강-usb로..인터넷안될때

패스

# 46강-톰캣 설치

톰캣9.0설치해보자(8.0은 APT툴가지고 설치되는데 9.0은안되서 이걸로연습해보려고 수작업해봄ㅋ)

아근데 APT에 9.0있네ㅋㅋㅋ인강은 예전거라 없고 난 있는 상황임..ㅋㅋ

47강은 그룹 권한 설정..톰캣을 다른유저가 쓰게

48강은 localhost:8080을 80번포트로 바꾸기

나중에 필요할 때 보자.
